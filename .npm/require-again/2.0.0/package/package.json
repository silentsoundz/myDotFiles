{"name":"require-again","version":"2.0.0","description":"A simple module that makes ignoring the node require cache easy.","main":"index.js","scripts":{"lint":"standard | snazzy","test":"npm run lint && mocha test/index.js test/nested-test/another-test.js"},"repository":{"type":"git","url":"git+https://github.com/crookedneighbor/require-again.git"},"keywords":["test","require","cache"],"author":{"name":"Blade Barringer","email":"blade@crookedneighbor.com","url":"http://crookedneighbor.com/"},"license":"MIT","bugs":{"url":"https://github.com/crookedneighbor/require-again/issues"},"homepage":"https://github.com/crookedneighbor/require-again#readme","devDependencies":{"chai":"^3.5.0","mocha":"^3.0.0","snazzy":"^4.0.0","standard":"^8.0.0"},"standard":{"globals":["after","afterEach","before","beforeEach","context","describe","expect","it","xcontext","xdescribe","xit"]},"readme":"# require-again\nA simple module that makes ignoring the node require cache easy.\n\n## Why?\n\nSay you have a file that has slightly different behavior when running in a production environment. Like so:\n\n```js\nvar isProd = process.env.NODE_ENV === 'production'\n\nif (isProd) {\n  // do special prod stuff\n} else {\n  // do non-prod stuff\n}\n\nmodule.exports = myModule\n```\n\nWhen you require this module in your test files, it'll run the `isProd` check once and then cache that version of the module. This makes it difficult to test both behaviors. `require-again` allows you to get a freshly required version of the module.\n\nRequiring the module normally after using requireAgain will return the original cached version of the module.\n\n## Usage\n\nExample using [Mocha](https://mochajs.org/)\n\n```js\nvar requireAgain = require('require-again')\nvar pathToModule = './path/to/module'\n\ndescribe('some test', function () {\n  context('prod behavior', function () {\n    before(function () {\n      this.oldEnv = process.env.NODE_ENV\n      process.env.NODE_ENV = 'production'\n\n      this.module = requireAgain(pathToModule)\n    })\n\n    after(function () {\n      process.env.NODE_ENV = this.oldEnv\n    })\n\n    it('does something in a production environment', function () {\n      // tests\n    })\n  })\n\n  context('non-prod behavior', function () {\n    before(function () {\n      this.oldEnv = process.env.NODE_ENV\n      process.env.NODE_ENV = 'dev'\n\n      this.module = requireAgain(pathToModule)\n    })\n\n    after(function () {\n      process.env.NODE_ENV = this.oldEnv\n    })\n\n    it('does something in a development environment', function () {\n      // tests\n    })\n  })\n})\n```\n\n## Testing\n\nThis module is tested in Node versions:\n\n* 4.x.x\n* 5.x.x\n* 6.x.x\n\n## Changelog\n\nSee [releases](https://github.com/crookedneighbor/require-again/releases) for a detailed changelog.\n","readmeFilename":"README.md","_id":"require-again@2.0.0","_shasum":"ed6d8b9bd638c13328b15dd838bd666111dd781c","_resolved":"https://registry.npmjs.org/require-again/-/require-again-2.0.0.tgz","_from":"https://registry.npmjs.org/require-again/-/require-again-2.0.0.tgz"}